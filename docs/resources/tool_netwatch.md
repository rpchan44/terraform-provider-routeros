# routeros_tool_netwatch (Resource)


## Example Usage
```terraform
resource "routeros_tool_netwatch" "test" {
  name      = "watch-google-pdns"
  type      = "icmp"
  host      = "8.8.8.8"
  interval  = "30s"
  up_script = ":log info \"Ping to 8.8.8.8 successful\""
  thr_max   = "400ms"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `host` (String) The IP address of the server to be probed. Formats:
  * ipv4
  * ipv4@vrf
  * ipv6 
  * ipv6@vrf
  * ipv6-linklocal%interface
- `name` (String) Task name.

### Optional

- `accept_icmp_time_exceeded` (Boolean) If the ICMP `time exceeded` message should be considered a valid response.
- `comment` (String)
- `disabled` (Boolean)
- `dns_server` (String) The DNS server that the probe should send its requests to, if not specified it will use the value from `/ip dns`.
- `down_script` (String) Script to execute on the event of probe state change `OK` --> `fail`.
- `early_failure_detection` (Boolean) Netwatch will not wait to finish all the packets to be processed to change probe status if it is already known that host will be considered as `down`.
- `early_success_detection` (Boolean) Netwatch will not wait to finish all the packets to be processed to change probe status if it is already known that host will be considered as `up`.
- `http_code_max` (Number) Response in the range [http-code-min , http-code-max] is a probe pass/OK; outside - a probe fail. See [mozilla-http-status](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status) or [rfc7231](https://datatracker.ietf.org/doc/html/rfc7231#section-6).
- `http_code_min` (Number) OK/fail criteria for HTTP response code.
- `interval` (String) The time interval between probe tests.
- `packet_count` (Number) Total count of ICMP packets to send out within a single test.
- `packet_interval` (String) The time between ICMP-request packet send.
- `packet_size` (Number) The total size of the IP ICMP packet.
- `port` (Number) TCP port (for both tcp-conn and http-get probes)
- `record_type` (String) Record type that will be used for DNS probe.
- `src_address` (String) Source IP address which the Netwatch will try to use in order to reach the host. If address is not present, then the host will be considered as `down`.
- `start_delay` (String) Time to wait before starting probe (on add, enable, or system start).
- `startup_delay` (String) Time to wait until starting Netwatch probe after system startup.
- `test_script` (String) Script to execute at the end of every probe test.
- `thr_avg` (String) Fail threshold for rtt-avg.
- `thr_http_time` (String) Fail threshold for http-resp-time.
- `thr_jitter` (String) Fail threshold for rtt-jitter.
- `thr_loss_count` (Number) Fail threshold for loss-count.
- `thr_loss_percent` (Number) Fail threshold for loss-percent.
- `thr_max` (String) Fail threshold for rtt-max (a value above thr-max is a probe fail).
- `thr_stdev` (String) Fail threshold for rtt-stdev.
- `thr_tcp_conn_time` (String) Fail threshold for tcp-connect-time, the configuration uses microseconds, if the time unit is not specified (s/m/h), log and status pages display the same value in milliseconds.
- `timeout` (String) Max time limit to wait for a response.
- `ttl` (Number) Manually set time to live value for ICMP packet.
- `type` (String) Type of the probe:
  *  icmp - (ping-style) series of ICMP request-response with statistics
  *  tcp-conn - test TCP connection (3-way handshake) to a server specified by IP and port
  *  http-get - do an HTTP Get request and test for a range of correct replies
  *  simple - simplified ICMP probe, with fewer options than **ICMP** type, used for backward compatibility with the older Netwatch version
- `up_script` (String) Script to execute on the event of probe state change `fail` --> `OK`.

### Read-Only

- `id` (String) The ID of this resource.

## Import
Import is supported using the following syntax:
```shell
#The ID can be found via API or the terminal
#The command for the terminal is -> :put [/tool/netwatch get [print show-ids]]
terraform import routeros_tool_netwatch.test *3
```
